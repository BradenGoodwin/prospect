var PMapHub=function(){function k(b){var c=_.sortedIndex(g,{id:b},"id"),c=g[c];return c.id===b?c:null}function m(b){var c=_.sortedIndex(f,{id:b},"id"),c=f[c];return c.id===b?c:null}function p(b){var c=_.sortedIndex(n,{gid:b},"gid"),c=n[c];return c.gid===b?c:null}var g=[{id:".blank",sname:"Blank",url:"",subd:"",credits:"",desc:"Blank Base Map"},{id:".esri-natgeoworld",sname:"Esri, Nat Geo Landscape",url:"http://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",
subd:"",credits:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",desc:"Esri, National Geographic Landscape"},{id:".mq-aerial",sname:"MQ OpenAerial",url:"http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",subd:"otile1|otile2|otile3|otile4",credits:"MapQuest",desc:"MapQuest Open Aerial Base Map"},{id:".mq-base",sname:"Map Quest OSM Base",url:"http://{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",subd:"otile1|otile2|otile3|otile4",
credits:"MapQuest",desc:"MapQuest Default Base Map"},{id:".osm-base",sname:"OSM Base",url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",subd:"a|b|c",credits:"OpenStreetMap",desc:"OpenStreetMap Base Map"},{id:".osm-bw",sname:"OpenStreetMap B/W",url:"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",subd:"",credits:"OpenStreetMap",desc:"OpenStreetMap B/W Base Map"},{id:".stamen-watercolor",sname:"Stamen Watercolor",url:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.jpg",subd:"",credits:"Stamen Design",
desc:"Stamen Watercolor Base Map"},{id:".thunder-land",sname:"Thunderforest Landscape",url:"http://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png",subd:"",credits:"Thunderforest",desc:"Thunderforest Landscape Base Map"}],f=[],n=[];return{init:function(b,c){f=b;n=c},getBaseLayers:function(){return g},getOverlays:function(){return f},getBaseByID:function(b){return k(b)},getOverlayByID:function(b){return m(b)},getMapByID:function(b){return"."===b.charAt(0)?k(b):m(b)},getGroupByID:function(b){return p(b)},
createMapLayer:function(b,c,e,h){var d,a;".blank"===b?(a={options:{}},a.options.opacity=c,a.options.layerName="Blank",a.options.isBaseLayer=!0,e&&(e.minZoom=1,e.maxZoom=20)):"."===b.charAt(0)?(d=k(b),a={attribution:d.credits,maxZoom:20,opacity:c},c=""!==d.subd?d.subd.split("|"):[],1<c.length&&(a.subdomains=c),a=L.tileLayer(d.url,a),a.options.isBaseLayer=!0,a.options.layerName=d.sname,e&&a.addTo(e),h&&h.addBaseLayer(a,d.sname)):(d=m(b),a=!0===d.inverseY||"true"===d.inverseY||"TRUE"===d.inverseY,a=
{attribution:d.credits,minZoom:d.minZoom,maxZoom:d.maxZoom,tms:a,opacity:c,bounds:L.latLngBounds(d.swBounds,d.neBounds)},c=""!==d.subd?d.subd.split("|"):[],1<c.length&&(a.subdomains=c),a=L.tileLayer(d.url,a),a.options.isBaseLayer=!1,a.options.layerName=d.sname,e&&a.addTo(e),h&&h.addOverlay(a,d.sname));a.options.id=b;return a},createMapGroup:function(b,c,e){var h,d=null,a,l,f,k,g;if(h=p(b))d=L.layerGroup(),d.options.id=d.options.layerName=b,h.mapids.forEach(function(b){if(a=m(b))k=!0===a.inverseY||
"true"===a.inverseY||"TRUE"===a.inverseY,g={attribution:a.credits,minZoom:a.minZoom,maxZoom:a.maxZoom,tms:k,opacity:c,bounds:L.latLngBounds(a.swBounds,a.neBounds)},f=""!==a.subd?a.subd.split("|"):[],1<f.length&&(g.subdomains=f),l=L.tileLayer(a.url,g),l.options.id=b,l.options.isBaseLayer=!1,l.options.layerName=b,d.addLayer(l)}),e&&d.addTo(e);return d}}}();